/*! $FileVersion=1.1.225 */ var common_fileVersion = "1.1.225"; 
if(typeof JSON!=="object"){LoadScript("json2.js")}if(typeof enableAnalyticsSDKForUWP==="undefined"){enableAnalyticsSDKForUWP=false}var GetEngineSetting=function(b,a){return a};if(typeof GetSetting==="function"){GetEngineSetting=GetSetting}else{logInformation("Missing GetSetting function; will only use default settings (this is expected pre SDK.2.3)")}var GetEngineProperty=function(b,a){return a};if(typeof GetProperty==="function"){GetEngineProperty=GetProperty}else{logInformation("Missing GetProperty function; will only use default Properties (this is expected pre SDK.2.5)")}if(!enableAnalyticsSDKForUWP){LoadScript("logging.js")}var getSystemPlugin=function(){var a=getScriptVariableStore().Get("system");if(!a){a=getPluginFactory().Create("system");getScriptVariableStore().Set("system",a)}return a};Date.prototype.toISOString=function(a){try{function d(f){var e=String(f);if(e.length===1){e="0"+e}return e}var b=this.getUTCFullYear()+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate());if(a){return b}b+="T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"Z";return b}catch(c){return null}};var dateToMfeString=function(b){try{function d(f){var e=String(f);if(e.length===1){e="0"+e}return e}var a=b.getUTCFullYear()+d(b.getUTCMonth()+1)+d(b.getUTCDate());return a}catch(c){return null}};function isoDateToDate(f){try{if(!f||(8>f.length)){return null}var d=parseInt(f.substr(0,4),10);var h=parseInt(f.substr(5,2),10);var b=parseInt(f.substr(8,2),10);var a=parseInt(f.substr(11,2),10);var i=parseInt(f.substr(14,2),10);var c=parseInt(f.substr(17,2),10);if(!d||!h||!b){return null}a=isNaN(a)?0:a;i=isNaN(i)?0:i;c=isNaN(c)?0:c;return new Date(Date.UTC(d,h-1,b,a,i,c))}catch(g){logError("isoDateToDate: exception caught with message: "+g.message);return null}}function isFirstFileVersionGreater(f,c){if(!f||!c){return true}try{var b=f.split(",");var i=c.split(",");if(b.length!=i.length){logError("isFirstFileVersionGreater: Could not compare versions with unequal length");return false}for(var d in b){var a=parseInt(b[d],10);var h=parseInt(i[d],10);if(isNaN(a)||isNaN(h)){logError("isFirstFileVersionGreater: Could not compare non-numerics file versions");return false}else{if(a==h){continue}else{if(a<h){return false}else{return true}}}}}catch(g){logError("isFirstFileVersionGreater: Failed due to "+g.message)}return false}function findObjectSize(c){if(!c){return 0}var b=0;for(var a in c){if(c.hasOwnProperty(a)){b+=1}}return b}if(typeof __wrapPluginFactory!=="function"){function __wrapPluginFactory(a){var b={CreateFromGuid:function(d,f){var e="HKCR\\CLSID\\"+d;var c=ModuleManager.getSingleton("registry");if(!c.openKey(e)){logError("CreateFromGuid: could not open hive "+e);return null}if(!c.queryValue("")){logError("CreateFromGuid: could not open path "+e);return null}return this._plugin.CreateFromGuid(d,f!=false)},Create:function(c){return this._plugin.Create(c)},_plugin:a,_version:(a?parseInt(a.GetVersion(),10):0)};if(!a){logError("null pluginfactory, wrapping in a null-implementation")}return b}var __bootPluginFactory=getPluginFactory;getPluginFactory=function(){return __wrapPluginFactory(__bootPluginFactory())}}if(typeof __wrapMsgBusPlugin!=="function"){function __wrapMsgBusPlugin(a){var b={GetName:function(){return(this.IsAvailable()?this._plugin.GetName():"msgbus")},GetVersion:function(){return String(this._version)},Initialize:function(c){return(this.IsAvailable()?this._plugin.Initialize(c):true)},Publish:function(c,d){return(this.IsAvailable()?this._plugin.Publish(c,d):true)},Subscribe:function(c){return(this.IsAvailable()?this._plugin.Subscribe(c):true)},Unsubscribe:function(c){return(this.IsAvailable()?this._plugin.Unsubscribe(c):true)},Request:function(c,d){return((this.IsAvailable()&&(this._version>=2))?this._plugin.Request(c,d):true)},IsAvailable:function(){return((this._plugin&&(this._version>=3))?this._plugin.IsAvailable():(null!=this._plugin))},_plugin:a,_version:(a?parseInt(a.GetVersion(),10):0)};if(!a){logError("null msgbug plugin, wrapping in a null-implementation")}return b}var __bootGetMessageBus=getMessageBus;getMessageBus=function(){return __wrapMsgBusPlugin(__bootGetMessageBus())}}var dataManipulator={mergeAndLowerDictionary:function(b,c){if(!b||!c){return}for(var a in c){b[a.toLowerCase()]=c[a]}},mergeDictionary:function(b,c){if(!b||!c){return}for(var a in c){b[a]=c[a]}},arrayRemoveDuplicates:function(e){if(typeof e==="Array"){var b=e.filter(function(h,g,f){return g==f.indexOf(h)});return b}else{if(typeof e==="object"){var b=[];var c={};for(var a=0;a<e.length;++a){c[e[a]]=0}for(var d in c){b.push(d)}return b}}return e}};function CreateModuleManager(a){var b={getSingleton:function(d){var c=this._objects[d];if(c){return c}c=this.create(d);this._objects[d]=c;return c},create:function(d){var c=this._factoryManager.get(d);if(!c){logError("ModuleManager.create failed: "+d);return null}return new c()},set:function(d,c){this._objects[d]=c},_objects:{},registerFactory:function(d,c){this._factoryManager.register(d,c)},setScriptFileMapping:function(c,d){this._factoryManager.setScriptFileMapping(c,d)},_factoryManager:a};return b}function CreateJSONManager(){var a={getSingleton:function(d,b){var c=this._objects[d];b=(typeof b!=="undefined")?b:false;if(!b&&c){return c}c=this.create(d);this.set(d,c);return c},create:function(b){var f=this._getFileName(b);var c=scriptHelper._readRawText(f);if(!c){return null}try{return JSON.parse(c)}catch(d){logError("Failed to load JSON object '"+b+"' from file '"+f+"': exception is "+d.message)}return null},set:function(c,b){this._objects[c]=b},_objects:{},setJSONFileMapping:function(b,c){this._fileNameOverrides[b]=c},_getFileName:function(b){var c=this._fileNameOverrides[b];if(c){return c}return this._getfileNameDefault(b)},_getfileNameDefault:function(b){return b+".json"},_fileNameOverrides:{}};return a}function CreateFactoryManager(){var a={get:function(c){var b=this._factoryFunctions[c];if(b){return b}LoadScript(this._getScriptName(c));b=this._factoryFunctions[c];if(!b){logError("attempted to load "+c+" from file: "+this._getScriptName(c)+", however, it didn't register properly with ModuleManager")}return b},register:function(c,b){this._factoryFunctions[c]=b},setScriptFileMapping:function(b,c){this._scriptNameOverrides[b]=c},_getScriptName:function(b){var c=this._scriptNameOverrides[b];if(c){return c}return this._getscriptNameDefault(b)},_getscriptNameDefault:function(b){return b+".js"},_factoryFunctions:{},_scriptNameOverrides:{}};return a}function CreateStorageManager(){var a={get:function(d){try{if(engine.aleStaticInegration()){logWarning("Settings Manager is not available");return null}if(typeof d!="string"){this._logError("get: expected a string value. Actual value("+d+")");return}var f={name:d};var c=getMessageBus().Request("SETTINGS_MANAGER_GET_PROPERTY",JSON.stringify(f));var b=this._parseSettingsManagerResponse(c);if(!b){this._logError("get: No valid parsable response ("+c+").");return null}if(typeof(b.value)!="string"){return null}return b.value}catch(g){this._logError("get:"+g.message)}},set:function(d,g,b){try{if(engine.aleStaticInegration()){logWarning("Settings Manager is not available");return}var f={name:d,value:g,"volatile":b};var c=getMessageBus().Publish("SETTINGS_MANAGER_SET_PROPERTY",JSON.stringify(f))}catch(h){this._logError("set: "+h.message)}},remove:function(c){try{var d={name:c};var b=getMessageBus().Publish("SETTINGS_MANAGER_REMOVE_PROPERTY",JSON.stringify(d))}catch(f){this._logError("remove:"+f.message)}},_parseSettingsManagerResponse:function(c){var b=JSON.parse(c);if(b.error){this._logError("_parseSettingsManagerResponse: Failed to get response: "+b.error);return null}return b.payload},_logInfo:function(b){logInformation("StorageManager:"+b)},_logError:function(b){logError("StorageManager:"+b)}};return a}function getDaSender(b){try{var a=getScriptVariableStore().Get("da");if(a){if(b!==true){return a}a.UnInitialize();a=null;getScriptVariableStore().Set("da",a);try{CollectGarbage(true)}catch(c){}}a=getPluginFactory().Create("da");getScriptVariableStore().Set("da",a);return a}catch(c){logError("getDaSender: Exception caught with message: "+c.message)}return null}var __geoInfo={queryDate:null,geoid:null,isQA:null,retry:5,maxPeriod:19};function getRandTimeBetween(b,a){return Math.floor(Math.random()*(a-b+1))+b}function isGeoidNumbers(a){var b=/\d+?/g;var c=b.exec(a);return c!=null}function queryGeoInfo(){var e=null;var g="https://prd-mcafee-mosaic-pub.azurewebsites.net/api/geoiplookup?code=rXirGSARC5aMI8vaT2FIgrd9xrI/y2rtWqKNdjmHccR3n8oZEmdkMA==";var a="GET";var h=new RegExp("^2.4");if(h.test(engine.getBootstrapFileVersion())){ModuleManager.create("rest_transport");var f=ModuleManager.create("xmlHttpComObj");f.setup();f.open(a,g,false);var i=f.send("");e=f.getAllResponseHeaders()}else{var d=getPluginFactory().Create("RESTclient");d.SetAgentName("McAfee ALE");d.SetHttpMode(a);d.Connect(g);var c=d.SendRequest("");d.Disconnect();var b=JSON.parse(c);e=b.header}return e}function extractGeoInfo(b){var e=queryGeoInfo();var d=/x-geoid: _(.*?)_/g;var a=d.exec(e);if(a){b.geoid=a[1]}var c=/x-qae: _(.*?)_/g;a=c.exec(e);if(a){b.isQA=a[1]}b.retry=b.retry+1;if(b.retry>=b.maxPeriod){b.retry=5}}function getGeoInfo(){try{var f="analytics.geoInfo";var h=__geoInfo;if(!h.queryDate){var d=RegistryStore.get(f);if(d){h=JSON.parse(d)}}if(!h.retry||(typeof(h.retry)!="number")){h.retry=5}if(!h.maxPeriod||(typeof(h.maxPeriod)!="number")){h.maxPeriod=19}var b=ModuleManager.getSingleton("operations");var k=Math.pow(2,h.retry);var a=Math.pow(2,4);var j=Math.floor(getRandTimeBetween(a,k)/60);var l=h.queryDate&&(isGeoidNumbers(h.geoid)&&(b.timeSince(isoDateToDate(h.queryDate),"days")<7));var c=h.queryDate&&(b.timeSince(isoDateToDate(h.queryDate),"minutes")<j);if(l||c){logDebug("getGeoInfo: Geoid not expired: Geoinfo: "+JSON.stringify(h)+" nextRandomRetryTimeMinutes: "+j);return h}logInformation("getGeoInfo: Last call to getGeoInfo was more than "+j+" minutes ago. Calling it");var i=(new Date()).toISOString();h.queryDate=i;extractGeoInfo(h);__geoInfo=h;RegistryStore.set(f,JSON.stringify(__geoInfo));return __geoInfo}catch(g){logError("getIp: "+g.message);return{geoid:"[unknown]",isQA:"[unknown]"}}}function ReadFile(g,h){logDebug("Reading file '"+g+"\\"+h+"'");try{var c=getSystemPlugin();var b=parseInt(c.GetVersion(),10);var a=g;if(b>1){try{a=c.GetKnownFolder(g)}catch(f){logError("Could not convert '"+g+"' to a known folder path; continuing with unmodified path")}}if("\\"!=a.slice(-1)){a+="\\"}var d=c.ReadFile(a+h);return d}catch(f){logError("Failed to read file data '"+h+"' "+f.message);return null}}function generatePattern(c){var a="^(";if(c instanceof Array){for(var b in c){a+=c[b]+"|"}a=a.slice(0,-1)}else{a+=c}a+=")[=]";return a}function GetKeyValueFromINIFile(d){try{var b=generatePattern(d.key);var h=new RegExp(b,"gi");var a=ReadFile(d.path,d.filename);var g=a.split("\n");var c={};for(var k in g){var i=h.exec(g[k]);if(i){var j=g[k].split("=");if(j.length==2){c[i[1]]=j[1].replace(/[\n\r]/g,"")}h=new RegExp(b,"gi")}}return c}catch(f){logError("GetKeyValueFromINIFile: Failed due to ("+JSON.string(d.key)+") "+f.message)}return{}}function CreateRegistryStore(b){if(enableAnalyticsSDKForUWP){var c=ModuleManager.getSingleton("uwp_storage");return c}var a={hivePath:b,get:function(g,d){try{d=(d==undefined)?true:d;var f=this._getRegistryPlugin(false);if(!f){return null}return f.queryValue(g,d)}catch(h){this._logError("get: "+h.message)}},set:function(g,h,d){try{d=(d==undefined)?true:d;var f=this._getRegistryPlugin(true);if(!f){return false}if(!f.setValue(g,h,d)){this._logError("Could not set new value for "+g);return false}return true}catch(i){this._logError("set: "+i.message)}},_getRegistryPlugin:function(e){if(!this.hivePath){this._logError("Hive path not specified");return null}var d=ModuleManager.getSingleton("registry");if(!d.openKey(this.hivePath,e)){this._logError("Could not open hive "+this.hivePath);return null}return d},_logInfo:function(d){logInformation("RegistryStore:"+d)},_logError:function(d){logError("RegistryStore:"+d)}};return a};
//87A475386639FDC3398E1515AAA6B30EA30ACC32691E328FB395244DF9629AC3A8C42512EA596A0790F02F512F48A6EDA2DC89919608BCCE7EB1531611F683F8++